var se=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var J=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)};var b=(n,e,t)=>(se(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const d of h)if(d.type==="childList")for(const r of d.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function t(h){const d={};return h.integrity&&(d.integrity=h.integrity),h.referrerpolicy&&(d.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?d.credentials="include":h.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(h){if(h.ep)return;h.ep=!0;const d=t(h);fetch(h.href,d)}})();var ee={exports:{}},ie=function(){var n=[],e=[],t=[],c=null,h=function(r,l){return l.split(".").reduce(function(o,g){return o?o[g]:void 0},r||self)},d=function(r,l,o,g){var f=o||null,_=g||[{target:r,property:""}];r instanceof Array&&(r.hasOwnProperty("__length")?r.__length=r.length:Object.defineProperty(r,"__length",{enumerable:!1,value:r.length,writable:!0}));var m=[],O=function(s,a,v){for(var i="",p=null,u=0;u<_.length;u++)p instanceof Array&&!isNaN(_[u].property)&&(_[u].property=p.indexOf(_[u].target)),i=i+"."+_[u].property,p=_[u].target;return i=i+"."+a,i=i.substring(2),v===!0&&(i="/"+i.replace(/\./g,"/")),i},V=function(s){if(f.paused!==!0){var a=typeof l=="number";if(a||l===!0)setTimeout(function(){if(s===m.length){var p=m.slice(0);m=[];for(var u=0;u<f.observers.length;u++)f.observers[u](p)}},a&&l>0?l:10);else{var v=m.slice(0);m=[];for(var i=0;i<f.observers.length;i++)f.observers[i](v)}}},Q={get:function(s,a){if(a==="__getTarget")return s;if(a==="__isProxy")return!0;if(a==="__getParent")return function(L){if(typeof L>"u")var L=1;var A=O(s,"__getParent").split(".");return A.splice(-(L+1),L+1),h(f.parentProxy,A.join("."))};if(a==="__getPath"){var v=O(s,"__getParent");return v.slice(0,-12)}var i=s[a];if(s instanceof Date&&i instanceof Function&&i!==null)return i.bind(s);if(i instanceof Object&&i!==null&&s.hasOwnProperty(a)){if(i.__isProxy===!0&&(i=i.__getTarget),i.__targetPosition>-1&&e[i.__targetPosition]!==null){for(var p=t[i.__targetPosition],u=0,P=p.length;u<P;u++)if(f===p[u].observable)return p[u].proxy}var x=_.slice(0);return x.push({target:i,property:a}),d(i,l,f,x)}else return i},deleteProperty:function(s,a){var v=!0;c===E&&(v=!1,c=null);var i=Object.assign({},s);if(m.push({type:"delete",target:s,property:a,newValue:null,previousValue:i[a],currentPath:O(s,a),jsonPointer:O(s,a,!0),proxy:E}),v===!0){f.changesPaused||delete s[a];for(var p=0,u=e.length;p<u&&s!==e[p];p++);for(var P=t[p]||[],x=P.length;x--;)P[x].proxy!==E&&(c=P[x].proxy,delete P[x].proxy[a])}return V(m.length),!0},set:function(s,a,v,i){v&&v.__isProxy&&(v=v.__getTarget);var p=!0;c===E&&(p=!1,c=null);var u=s[a];if(u!==v||p===!1||a==="length"&&s instanceof Array&&s.__length!==v){var P=!0,x=typeof u,T="update";if(x==="undefined"&&(T="add"),m.push({type:T,target:s,property:a,newValue:v,previousValue:i[a],currentPath:O(s,a),jsonPointer:O(s,a,!0),proxy:E}),a==="length"&&s instanceof Array&&s.__length!==v&&(m[m.length-1].previousValue=s.__length,s.__length=v),p===!0){f.changesPaused||(s[a]=v),P=!1;for(var L=s.__targetPosition,A=t[L].length;A--;)if(f===t[L][A].observable&&e[t[L][A].observable.parentTarget.__targetPosition]!==null){P=!0;break}if(P){for(var $=t[L],H=0,ne=$.length;H<ne;H++)$[H].proxy!==E&&(c=$[H].proxy,$[H].proxy[a]=v);setTimeout(function(){if(x==="object"&&u!==null){for(var z=Object.keys(s),U=0,re=z.length;U<re;U++)if(s[z[U]]===u)return;var D=!1;if(function W(F){for(var I=Object.keys(F),y=0,q=I.length;y<q;y++){var B=I[y],j=F[B];if(j instanceof Object&&j!==null&&W(j),j===u){D=!0;return}}}(s),D===!0)return;(function W(F){for(var I=Object.keys(F),y=0,q=I.length;y<q;y++){var B=F[I[y]];B instanceof Object&&B!==null&&W(B)}for(var j=-1,y=0,q=e.length;y<q;y++)if(F===e[y]){j=y;break}if(j>-1){for(var G=t[j],X=G.length;X--;)if(f===G[X].observable){G.splice(X,1);break}G.length==0&&(e[j]=null)}})(u)}},1e4)}}P&&V(m.length)}return!0}},k=r.__targetPosition;k>-1||Object.defineProperty(r,"__targetPosition",{value:e.length,writable:!1,enumerable:!1,configurable:!1});var E=new Proxy(r,Q);f===null&&(f={parentTarget:r,domDelay:l,parentProxy:E,observers:[],paused:!1,path:_,changesPaused:!1},n.push(f));var Z={target:r,proxy:E,observable:f};return k>-1?(e[k]===null&&(e[k]=r),t[k].push(Z)):(e.push(r),t.push([Z])),E};return{create:function(r,l,o){if(r.__isProxy===!0)var r=r.__getTarget;var g=d(r,l);return typeof o=="function"&&this.observe(g,o),function f(_){for(var m=_.__getTarget,O=Object.keys(m),V=0,Q=O.length;V<Q;V++){var k=O[V];m[k]instanceof Object&&m[k]!==null&&f(_[k])}}(g),g},observe:function(r,l){for(var o=n.length;o--;)if(n[o].parentProxy===r){n[o].observers.push(l);break}},pause:function(r){for(var l=n.length,o=!1;l--;)if(n[l].parentProxy===r){n[l].paused=!0,o=!0;break}if(o==!1)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(r){for(var l=n.length,o=!1;l--;)if(n[l].parentProxy===r){n[l].paused=!1,o=!0;break}if(o==!1)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(r){for(var l=n.length,o=!1;l--;)if(n[l].parentProxy===r){n[l].changesPaused=!0,o=!0;break}if(o==!1)throw new Error("ObseravableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(r){for(var l=n.length,o=!1;l--;)if(n[l].parentProxy===r){n[l].changesPaused=!1,o=!0;break}if(o==!1)throw new Error("ObseravableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(r){for(var l=null,o=!1,g=n.length;g--;)if(n[g].parentProxy===r){l=n[g],o=!0;break}for(var f=t.length;f--;)for(var _=t[f].length;_--;)t[f][_].observable===l&&(t[f].splice(_,1),t[f].length===0&&(e[f]=null));o===!0&&n.splice(g,1)}}}();try{ee.exports=ie}catch{}function te(n){const e=[];function t(h){e.push(h)}n.__subscribe=t;const c=ee.exports.create(n,!0,h=>{for(const d of e)d(c)});return c}var w,C,M,K,S,R;class le{constructor(e){J(this,w);J(this,M);J(this,S);this.element=document.createElement(e),this.events=[]}effect(e){return e.__subscribe(()=>{for(const t of this.events)t()}),this}class(e,t=!0){return b(this,M,K).call(this,b(this,S,R).call(this,e,t),()=>{b(this,w,C).call(this,t)?this.element.classList.add(...b(this,w,C).call(this,e).split(" ")):this.element.classList.remove(...b(this,w,C).call(this,e).split(" "))}),this}parent(e){return e.element!==void 0?e.element.appendChild(this.element):e.appendChild(this.element),this}event(e,t){const c=d=>t(d,h),h=()=>{this.element.removeEventListener(e,c)};return this.element.addEventListener(e,c),this}property(e,t){return b(this,M,K).call(this,b(this,S,R).call(this,e,t),()=>{this.element[b(this,w,C).call(this,e)]=b(this,w,C).call(this,t)}),this}style(e,t){return b(this,M,K).call(this,b(this,S,R).call(this,e,t),()=>{this.element.style[b(this,w,C).call(this,e)]=b(this,w,C).call(this,t)}),this}html(e){return b(this,M,K).call(this,b(this,S,R).call(this,e),()=>{this.element.innerHTML=b(this,w,C).call(this,e)}),this}remove(){this.element.remove()}model(e,t){this.property("value",e),this.event("input",c=>{t(c.target.value)})}}w=new WeakSet,C=function(e){return typeof e=="function"?e():e},M=new WeakSet,K=function(e,t){if(e){const c=()=>{t()};c(),this.events.push(c)}else t()},S=new WeakSet,R=function(...e){for(const t of e)if(typeof t=="function")return!0;return!1};function N(n){return new le(n)}function ae(){const n=te({count:0}),e=N("div").class("block");return N("button").effect(n).html(()=>`Count is: ${n.count}`).event("click",t=>n.count++).parent(e),e}function oe(n="Hello world"){const e=te({text:n}),t=N("div").class("card");return N("h3").effect(e).html(()=>e.text).parent(t),N("input").parent(t).effect(e).model(()=>e.text,c=>e.text=c),t}const Y=N("div").class("main").parent(document.body);N("h1").html("Hello world").parent(Y).class("title");ae().parent(Y);oe("Edit me.").parent(Y);
